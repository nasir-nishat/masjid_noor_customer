import 'package:flutter/material.dart';import 'package:get/get.dart';import 'package:masjid_noor_customer/navigation/router.dart';import 'package:masjid_noor_customer/presentation/pages/all_export.dart';import 'package:masjid_noor_customer/presentation/pages/product/search_product_controller.dart';import 'package:masjid_noor_customer/presentation/widgets/product_item.dart';class SearchPage extends GetView<SearchProductController> {  const SearchPage({Key? key}) : super(key: key);  @override  Widget build(BuildContext context) {    final TextEditingController searchController = TextEditingController();    return Scaffold(      appBar: AppBar(        title: TextField(          autofocus: true,          controller: searchController,          decoration: InputDecoration(            hintText: 'Search products',            suffixIcon: IconButton(              icon: const Icon(Icons.search),              onPressed: () => controller.searchProducts(searchController.text),            ),          ),          onSubmitted: (value) => controller.searchProducts(value),        ),      ),      body: Obx(() => Padding(            padding: EdgeInsets.symmetric(horizontal: 8.w, vertical: 8.h),            child: Column(              children: [                Expanded(                  child: GridView.builder(                    gridDelegate:                        const SliverGridDelegateWithFixedCrossAxisCount(                      crossAxisCount: 2,                      childAspectRatio: 0.75,                    ),                    itemCount: controller.searchedProducts.length,                    itemBuilder: (context, index) {                      return ProductItem(                          product: controller.searchedProducts[index],                          parentRoute: Routes.search);                    },                  ),                ),                if (controller.hasMoreResults.value)                  ElevatedButton(                    onPressed: controller.isSearchLoading.value                        ? null                        : () => controller                            .loadMoreSearchProducts(searchController.text),                    child: controller.isSearchLoading.value                        ? CircularProgressIndicator()                        : Text('Show More'),                  ),              ],            ),          )),    );  }}