import 'package:flutter/material.dart';import 'package:get/get.dart';import 'package:masjid_noor_customer/mgr/models/product_md.dart';import 'package:masjid_noor_customer/presentation/pages/product/product_controller.dart';class SearchPage extends GetView<ProductController> {  // Use StatelessWidget instead of GetView  const SearchPage({super.key});  @override  Widget build(BuildContext context) {    final TextEditingController searchController = TextEditingController();    final ScrollController scrollController = ScrollController();    scrollController.addListener(() {      if (scrollController.position.extentAfter < 500) {        controller.loadMoreProducts();      }    });    return Column(      children: [        AppBar(          title: TextField(            controller: searchController,            decoration: InputDecoration(              hintText: 'Search by name or description',              border: InputBorder.none,              suffixIcon: InkWell(                  onTap: () {                    ProductController.to.searchProducts(searchController.text);                  },                  child: const Icon(Icons.search)),            ),            onSubmitted: (query) {              ProductController.to.searchProducts(query);            },          ),        ),        Expanded(child: Obx(() {          if (controller.isLoading.value) {            return const Center(child: CircularProgressIndicator());          }          if (controller.products.isEmpty) {            return const Center(              child: Text('No products found'),            );          }          return ListView.builder(            controller: scrollController,            itemCount: controller.products.length,            itemBuilder: (context, index) {              ProductMd product = controller.products[index];              return ListTile(                title: Text(product.name),                subtitle: Text('Price: ${product.sellPrice}'),              );            },          );        })),      ],    );  }}